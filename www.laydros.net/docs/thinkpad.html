<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>thinkpad_notes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/normalize.css" type="text/css">
    <link rel="stylesheet" href="/css/sakura.css" type="text/css">
    <link rel="stylesheet" href="/css/style.css" type="text/css">
  </head>
  <body>
  <nav>
    <ul>
      <li><a href="/">home</a></li>
      <li><a href="/docs/">docs</a></li>
      <li><a href="http://git.laydros.net">repo</a></li>
      <li><a href="/about.html">about</a></li>
    </ul>
  </nav>
  <br />
  <main>

<h3 id="thinkpad">Thinkpad Specific</h3>

<h5>Battery Threshold</h5>
In Windows use lenovo Vantage to set maximum battery at 80% to preserve battery life.

In Linux write to <code>/sys/class/power_supply/BAT0/charge_stop_threshold</code> and <code>/sys/class/power_supply/BAT0/charge_start_threshold</code>

Can also use TLP with the tp-smapi kernel module (tp-smapi-dkms package in debian, for example)
<hr>
You can let tlp take care of that for you like so:
<pre><code>~ ❯❯❯ egrep "BAT[0,1]" /etc/tlp.conf
# auto = mid on BAT, high on AC.
START_CHARGE_THRESH_BAT0=75
STOP_CHARGE_THRESH_BAT0=80
START_CHARGE_THRESH_BAT1=75
STOP_CHARGE_THRESH_BAT1=80

~ ❯❯❯ sudo systemctl restart tlp
   egrep "BAT[0,1]" /etc/tlp.conf
</pre></code>
Works like a charm. I put the TLP config in /etc/tlp.d instead though.

<h5 id="trackpoint">Thinkpad Trackpoint</h5>
<p>Edit the file <pre><code>/etc/tmpfiles.d/tpoint.conf</code></pre></p>
<p>Add the lines:</p>
<pre><code>w /sys/devices/platform/i8042/serio1/speed - - - - 255
w /sys/devices/platform/i8042/serio1/sensitivity - - - - 255
w /sys/devices/platform/i8042/serio1/inertia - - - - 6
w /sys/devices/platform/i8042/serio1/press_to_select - - - - 0</code></pre>
<p>May need to use <code><pre>/sys/devices/platform/i8042/serio1/serio2</code></pre> instead</p>
<p>To make changes take effect before next reboot:</p>
<pre><code>sudo systemd-tmpfiles --prefix=/sys --create</code></pre>
  </main>
  </body>
</html>
